# Video Information

**Title   ** : Writing your first shell script  
**Uploader** : Bread on Penguins  
**Duration** : 16:24  
**URL     ** : https://www.youtube.com/watch?v=EUXD6xeEqRg  

---

## Transcription

 Hello, I hope your week is going well so far. Today I am going to welcome you to the world of bash scripting. If you have never written a bash script before, I'm going to walk you through writing your first one. Or if you are a bash scripting pro and have written many scripts, feel free to stick around. You might learn something new, I don't know. But I'm just going to write an example script here just to kind of introduce you to some of the main fundamentals of bash scripting. The four things that I'm going to mainly go over are going to be variables, if statements, case statements, and functions. So I'm going to write a little example script going through those, just to demonstrate those. And we're going to start from zero and go up from there. If you've never written a script before, this should hopefully cover everything you need to get started. So first of all, I'm just going to open up an editor for a new file, a text editor. You can use whatever text editor you want. I'm just going to use an end them. And I'm going to call it video.sh. I'll use the .sh extension here, since it's a shell script. And the first thing I'm going to put in this file is called a shebang. And what that's going to do is tell the shell what interpreter to use to parse through this script and figure out how to run it. So you'll usually see something like a bin bash or bin sh. The sort of more proper way to do it would really be user bin, e and v and then bash. And that's just saying, okay, look anywhere and figure out where bash is rather than assuming it's just in a bin bash. Just because it's possible your bash is not located in bin bash if you're not on Linux. And you're still trying to run a shell script on anything else, you know, Unix. So that is the shebang to start out the script. And bash is really just a command based language. So if I type a line in the script, it's just going to run that by default as a shell command. So if I, you know, just type whatever set of letters here, it's going to try to run that as a shell command. For example, we have the echo command here. That's probably, you know, one of the first bash commands you learn. Echo, hello, that'll just send the word hello back to me. So if I just type echo hello world in the script, I can go ahead and write that. And now I can go run that here. If I just do SH video dot SH and SH is just going to say use the default shell to run it. I could specify here bash. So I could just run it with bash video dot SH, but I can just use the default shell. So SH video dot SH, that's going to run that echo command saying hello world. Now you can also run a script here just by using dot slash to run it. However, to do that, I'm going to need to set the permissions of the script to make it executable. So I can do that with CH mod plus X. And that's going to give the executable permission to video dot SH here. And now if I run dot slash video dot SH, that will go ahead and run the script. The last thing I want to mention is that the path variable, if you have that set, if you have path variable set in your bash or C, the SH or C wherever your shell configuration is, then if you place a script into that directory, you can then go into any directory and run it without a dot slash. So if this script we're sitting in a directory I had in my path, I could run it without the dot slash. I don't have my home directory in my path though since I don't usually keep scripts there. So I'll just run it with the dot slash here. Anyways, so going back to the script, I could just add on a bunch more commands if I wanted to. So I could just do like echo test or something echo something else. And if I go ahead and run that now, that's just going to run all of those commands. So that alone can get you somewhere, but it won't get you all the way there. So the next thing to go through is variables and to define a variable in bash, it is just going to be, you come up with a name for it. So my bar and then equals and then define what you want in the variable. So if I just want some text here, I could just put, you know, in quotes text. And now if I go down here and I, you know, I'll just get rid of that echo dollar sign my bar to call the variable. I put a dollar sign in front of it. So if I echo out my variable there and run that script, it's going to echo the variable defined as text. It's just going to echo the word text there. But something really nice is that I can actually run a command in this variable. So instead of just echoing a word here, I could run a command and to do that, I'm going to put a dollar sign and then I'm going to use just parentheses and in those parentheses, I'll just put the command I want to run. So for example, I could get the date here and just the date command on the shelf. I just run date alone. It just spits out the date. So now if I go run the script, it's going to say hello world. And then it's going to put the output of the command date that was in that variable. So that is the most basic definition of how variables work pretty much. And the script that I want to make today is just going to... It's essentially just going to give us some system stats and I want to just have the option to pick one of a couple things. I'll break down that script in a bit. But to start off with that script, I want to look at disk space and I want to be able to have it tell me if my disk is mostly used or not. So for example, I can use the command DF on my home directory just to get the disk used space on that on the H flag is just saying make it human readable. So I'm just looking at this use percent here. It's 88 percent used. And what I want to do is make an if statement here that's going to compare this number 88 to a number I give it like maybe 80. And then say if the disk used percentage is more than the number 80, then tell me that my disk is mostly full. Or if it's less than 80, tell me that I have a lot of space left. So we're going to essentially need two things for this. The first of which is just going to be isolating this number 88. Since I said I'm going to compare that number with the number 80, I need that number isolated. So not this full command output, but just that number. And then the second thing I'm going to need is an if statement. So we're going to get to if statements in just a minute here, but first I'm just going to chop up the output of this command. I'm going to use ack and said here and I won't get too into detail on those since those obviously kind of need their own video. But just briefly, I'm going to use this bar character, which is a pipe and that's saying take the output of this first command, feed it into the next command. I give it. So then I'm going to pipe that into ack. I want to just get out that line that starts with dev there. So I'm just going to say line starts with a dev. I'm just using a backslash here to escape the slash part of the dev. So that way the shell does not treat that slash as a character to run and instead just treats his text. So get that line that starts with dev and then print out the fifth field here. So print dollar sign of five on that line, closing bracket there. And now if I do that, it's going to give me 88% and I still need to remove that percent actually because if I'm going to compare two numbers, I can't have a percent on it. So I'm just going to pipe that again into said and then I'm just going to replace that percent with nothing. So replace percent with nothing there. Now I have just the number 88. So perfect. That's exactly what I need. I'm going to go ahead and actually I'll make this, you know, the my variable there. I'll just make that that command. And if I run this script as is right now, it's just going to run that command. So it's just going to run the my variable command there and since it's coming out my variable, it'll echo out that 88 there. But what I really want to do here, I don't need any of this. Get rid of that. I want to make an if statement here. So I'm going to start with just if. And I'm going to use two square brackets here. If dollar sign my bar to call that variable, if my bar is greater than the number 80, GT is greater than dash LT would be less than I can also use, you know, equals not equal to that's just an operator. I'll probably make a separate video by operators at some point. So if my variable is greater than 80. I'll send me colon and then then I want to run just an echo to say my disk is nearly full. So then echo my, I don't know, I don't know your disk is nearly full exclamation point. And then I want to say, alright, otherwise if that's not the case, so else echo your disk has space left exclamation point. And then I just want to finish that if statement off. So I want to close it out to close out or if statements, it's just though, it's just the word fee. So if in reverse. And now if I go ahead and run the script again, my disk is nearly full because 88 is greater than 80. I could also go through here if I wanted to just just illustrate. I could make 90 there. And now if I run this, it'll say I have space left. We can just leave it at 90. So now I have a script that's telling me the status of my disk space. But I actually want a script here that it's going to give me another option which is also to look at my memory used. So I want to be able to use this script to say either disk and that'll return the info about my disk space. Or I want to say mem and that'll return info about my memory used. So we're going to first of all need a case statement here to get that working in the case statement we're going to use here. I'm just going to comment comment this out for now. And if you don't know a hashtag is just a comment. So that's just going to say don't read this line. Don't count this line as part of the script. And now if I make a new line that's not commented out, I can just do a case statement. So I'm going to start with the word case. And then I want to put dollar sign one because I want to get that input that I'm typing in here that first field after the after I call the video sh script here. I'm going to get whatever I type here. So if I just type test, I want to be able to get that in the in the script. So case dollar sign one in. Now I'm going to give it a few options. So first of all, I want a disk. So I can type the word disk. And I'm just going to put a double semicolon there and I can feel something in here. And I'll get to that in a second. So first of all, I want disk that I want men. And then I want to match anything else. So if I type some other word by mistake, I want to be able to match that as well. And then to finish off a case statement, it's just case backwards. So ssac on the same thing as like if and fee case sac if anybody knows why that's why that's a thing. Why it's just that in reverse. Like if there's an origin story for that, leave a comment because I'm genuinely curious and I don't know about that. Anyways, so in this case statement, you can see I left, you know, space here between this case and what I want to run. So I could just put a command here if I wanted to. So I could just do echo dollar sign my var here. And when I type the, so if I write this out and I go run this and I type disk here, that's just going to echo that variable that I defined there. So I could just write commands and all of these. And like, for example, for matching anything else, I could write, you know, pick disk or mem dot dot dot. And I can put double and say after that echo finishes exit zero here. So that way it exits the script after running that. So now, you know, if I type just some random thing here that'll say pick disk or memory exits out. But what I really want to do here is define a function here. So I can use that if statement that I made up here, this if statement we have it commented out, I can just go ahead and delete this comment here. But I want to make a function that's going to encapsulate this variable and this if statement here. So that way when I'm using this, when I'm calling this disk case here, I actually want to call a function here instead of just that single command. So I'm going to go ahead and make a function and to do that, I'll just call it, you know, check underscore disk. And I'll just do parentheses and then an opening brace there and everything in there is going to be the function. I actually want to have these in and then I want a closing brace here. So that's going to define check underscore disk as a function. So now if I go in here, I can get rid of this command here that's just echoing it and I can put in instead of function. So now calling that function check underscore disk when I call that function and I write that out when I do video dot s h with the word disk. It's now going to run that function and it'll tell me well since my disk space is not over 90. It's less than 90. I have space left. Perfect. So the second thing I wanted to do was make. Check it check out my memory and see how much memory is used. I can do that with the free command. So I can just do free dash h for human readable. And we're just going to do a little bit more, you know, I can send my to cure to get out. I want just the used memory here. So I'm going to want the I'm going to pipe this into a lock. First of all, I'm going to get that line that starts with memory there. And I want to I'll put that in place actually. And then I want to print out that third field there. So print dollar sign three. And that is going to I forgot a closing quote there. So now that's going to give me. I have 11. I used a memory and I don't have to define another function for this. I could just go ahead and put in that command as is. So I could just do free dash h. I don't know whatever whatever I had there. I should just copy paste to that to date. And then print dollar sign three there. Space there. And now if I run this video dot sh and then I just type mem since that's what I define for the case there. I have 11 GI used of memory right now. The sort of cleaner way to do this instead of having this command be here in the mem case there. I could just define a second function here. So I could do check underscore mem. And then open that up. And I'll just put I'll just put this whole command there. Just copy that from there. Why not. And now if I do down here and I get rid of this I could just check underscore mem. And now if I write that out, it'll still do the same thing. It's just separated that into a function now. Okay. So I think that has pretty much gone through the main thing as I wanted to go through. So we've talked about this variable. How to define a variable here. We've talked about if statements and you could separate your if statement onto multiple lines like I could just press enter here. However, just for something simple like this, I like having it on one line. So that's if statements we have cases. We have getting that first field in the input from the script there. We've got you know, disk and it's calling this check disk function. We've got memory to call this check memory function. And we've got anything else. So if I just run this, you know, with anything else, I'll just tell me, pick disk or memory. And that is the script. So this is sort of, you know, just a little example script of something you could make. Obviously, there's lots more stuff to go through in bash. So, you know, feel free to leave a comment with something else that you think I should cover in the future. I'm well aware that the, you know, bash iceberg goes far deeper than this. This is just sort of the four most important things that I think you really ought to know if you're starting to learn bash. So hope this guided you through your first script. Hope you're now able to go through and watch some of my other videos about scripting and actually be able to follow along with that instead of being confused. So yeah, hope you learned something. Hope you enjoyed the video and I will see you next time. Peace.